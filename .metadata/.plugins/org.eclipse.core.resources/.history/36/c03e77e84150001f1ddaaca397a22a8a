/*
 * QuantityDiscount.cpp
 *
 *  Created on: 11.02.2024
 *      Author: mnl
 */

#include "QuantityDiscount.h"

QuantityDiscount& QuantityDiscount::addLimit(float quantity, float discount) {
	limits.insert({quantity, discount});
	return *this;
}

float QuantityDiscount::discountFor(float quantity) const {
	auto first = limits.begin()->first;
	auto largestQuant = limits.end();
	auto lQuant = largestQuant--;
	float largQuant = lQuant->first;

	if(quantity < first){
		return 0;
	}
	else if (quantity>= largQuant){
		return lQuant->second;
	}
	return 0;
}
